#!/bin/sh

TRANSMISSION_HOME="/Users/transmission"
TRANSMISSION_USER="transmission"

TRANSMISSION_DAEMON="transmission-daemon"
TRANSMISSION_ARGS="-g ${TRANSMISSION_HOME}/.config/transmission -x ${TRANSMISSION_HOME}/.pid"

case "${1}" in
start)
  su -l -s \
    /bin/sh -c "${TRANSMISSION_DAEMON} ${TRANSMISSION_ARGS}" \
    ${TRANSMISSION_USER}
  ;;
stop)
  kill "$(cat ${TRANSMISSION_HOME}/.pid)"
  ;;
esac
